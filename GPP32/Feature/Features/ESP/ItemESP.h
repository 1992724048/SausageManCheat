#pragma once
#include <pch.h>

#include "FeatureRegistrar.h"

class ItemEsp final : public FeatureRegistrar<ItemEsp> {
public:
    ItemEsp();

    struct Item {
        util::String name;
        std::pair<glm::vec3, int> screen_pos;
        int64_t id;
        int64_t type;
        int num;
    };

    std::mutex mutex;
    std::vector<Item, mi_stl_allocator<Item>> items;
    std::vector<Item, mi_stl_allocator<Item>> items_commit;

    static auto draw_info(ImDrawList* _bg, const std::conditional_t<true, glm::vec<3, float>, int>& _screen_pos, util::String& _name, int64_t _id, int64_t _type, const int _num) -> void;
    auto render() -> void override;
    auto update() -> void override;

    auto process_data() -> void;

    struct ItemInfo {
        util::String group;
        util::String type;
        ImColor color;
    };

    inline static util::Map<util::String, ItemInfo> info_list{
        {(const char*)u8"霰弹枪收束器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"霰弹枪子弹袋", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"Kar98子弹袋", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"UZI枪托", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"能量子弹", {(const char*)u8"子弹", "", {67, 206, 246}}},
        {(const char*)u8"能量灸灸炮", {(const char*)u8"武器", "特殊武器", {63, 237, 231}}},
        {(const char*)u8"能量双枪", {(const char*)u8"武器", "冲锋枪", {63, 237, 231}}},
        {(const char*)u8"能量粒子炮", {(const char*)u8"武器", "特殊武器", {63, 237, 231}}},
        {(const char*)u8"能量弩", {(const char*)u8"武器", "霰弹枪", {63, 237, 231}}},
        {(const char*)u8"量子利刃", {(const char*)u8"武器", "突击步枪", {63, 237, 231}}},
        {(const char*)u8"蓄能炮", {(const char*)u8"武器", "射手步枪", {63, 237, 231}}},
        {(const char*)u8"能量加速机枪", {(const char*)u8"武器", "机枪", {63, 237, 231}}},
        {(const char*)u8"超级脉冲手炮", {(const char*)u8"武器", "特殊武器", {245, 5, 5}}},
        {(const char*)u8"7.62mm", {(const char*)u8"子弹", "", {255, 117, 0}}},
        {(const char*)u8"AKM", {(const char*)u8"武器", "突击步枪", {250, 139, 54}}},
        {(const char*)u8"AK-12", {(const char*)u8"武器", "突击步枪", {250, 139, 54}}},
        {(const char*)u8"Groza", {(const char*)u8"武器", "突击步枪", {250, 139, 54}}},
        {(const char*)u8"M24", {(const char*)u8"武器", "狙击枪", {250, 139, 54}}},
        {(const char*)u8"SKS", {(const char*)u8"武器", "射手步枪", {250, 139, 54}}},
        {(const char*)u8"Kar98", {(const char*)u8"武器", "狙击枪", {250, 139, 54}}},
        {(const char*)u8"SLR", {(const char*)u8"武器", "射手步枪", {250, 139, 54}}},
        {(const char*)u8"MK14", {(const char*)u8"武器", "射手步枪", {250, 139, 54}}},
        {(const char*)u8"DP-28", {(const char*)u8"武器", "机枪", {250, 139, 54}}},
        {(const char*)u8"R1895", {(const char*)u8"武器", "手枪", {250, 139, 54}}},
        {(const char*)u8"5.56mm", {(const char*)u8"子弹", "", {87, 143, 67}}},
        {(const char*)u8"AUG", {(const char*)u8"武器", "突击步枪", {153, 254, 121}}},
        {(const char*)u8"QBZ", {(const char*)u8"武器", "突击步枪", {153, 254, 121}}},
        {(const char*)u8"SCAR_L", {(const char*)u8"武器", "突击步枪", {153, 254, 121}}},
        {(const char*)u8"M16A4", {(const char*)u8"武器", "突击步枪", {153, 254, 121}}},
        {(const char*)u8"M416", {(const char*)u8"武器", "突击步枪", {153, 254, 121}}},
        {(const char*)u8"Mini14", {(const char*)u8"武器", "射手步枪", {153, 254, 121}}},
        {(const char*)u8"HK13", {(const char*)u8"武器", "机枪", {153, 254, 121}}},
        {(const char*)u8"M249", {(const char*)u8"武器", "机枪", {153, 254, 121}}},
        {(const char*)u8"9mm", {(const char*)u8"子弹", "", {204, 119, 0}}},
        {(const char*)u8"Tavor", {(const char*)u8"武器", "突击步枪", {204, 119, 117}}},
        {(const char*)u8"P90", {(const char*)u8"武器", "冲锋枪", {204, 119, 117}}},
        {(const char*)u8"UMP9", {(const char*)u8"武器", "冲锋枪", {204, 119, 117}}},
        {(const char*)u8"PP19", {(const char*)u8"武器", "冲锋枪", {204, 119, 117}}},
        {(const char*)u8"MP5", {(const char*)u8"武器", "冲锋枪", {204, 119, 117}}},
        {(const char*)u8"UZI", {(const char*)u8"武器", "冲锋枪", {204, 119, 117}}},
        {(const char*)u8"VSS", {(const char*)u8"武器", "射手步枪", {204, 119, 117}}},
        {(const char*)u8"P92", {(const char*)u8"武器", "手枪", {204, 119, 117}}},
        {(const char*)u8"P18C", {(const char*)u8"武器", "手枪", {254, 254, 117}}},
        {(const char*)u8"5.8mm", {(const char*)u8"子弹", "", {185, 183, 186}}},
        {(const char*)u8"QBU-191", {(const char*)u8"武器", "射手步枪", {185, 183, 186}}},
        {(const char*)u8"QBZ-192", {(const char*)u8"武器", "突击步枪", {185, 183, 186}}},
        {(const char*)u8".45ACP", {(const char*)u8"子弹", "", {22, 124, 177}}},
        {(const char*)u8"TommyGun", {(const char*)u8"武器", "冲锋枪", {22, 133, 169}}},
        {(const char*)u8"Kriss Vector", {(const char*)u8"武器", "冲锋枪", {22, 133, 169}}},
        {(const char*)u8"加特林", {(const char*)u8"武器", "机枪", {22, 133, 169}}},
        {(const char*)u8"P1911", {(const char*)u8"武器", "手枪", {22, 133, 169}}},
        {(const char*)u8"霰弹", {(const char*)u8"子弹", "", {254, 254, 155}}},
        {(const char*)u8"S1897", {(const char*)u8"武器", "霰弹枪", {199, 114, 69}}},
        {(const char*)u8"S686", {(const char*)u8"武器", "霰弹枪", {199, 114, 69}}},
        {(const char*)u8"S12K", {(const char*)u8"武器", "霰弹枪", {199, 114, 69}}},
        {(const char*)u8"KSG", {(const char*)u8"武器", "霰弹枪", {199, 114, 69}}},
        {(const char*)u8"爆炸弓", {(const char*)u8"武器", "特殊武器", {199, 114, 69}}},
        {(const char*)u8"火箭弹", {(const char*)u8"子弹", "", {245, 5, 5}}},
        {(const char*)u8"RPG", {(const char*)u8"武器", "特殊武器", {245, 5, 5}}},
        {(const char*)u8"300马格南", {(const char*)u8"子弹", "", {245, 5, 5}}},
        {(const char*)u8"AWM", {(const char*)u8"武器", "狙击枪", {245, 5, 5}}},
        {(const char*)u8"魔武-恶棍", {(const char*)u8"武器", "狙击枪", {245, 5, 5}}},
        {(const char*)u8".50BMG", {(const char*)u8"子弹", "", {245, 5, 5}}},
        {(const char*)u8"信号弹", {(const char*)u8"子弹", "", {245, 5, 5}}},
        {(const char*)u8"巴雷特", {(const char*)u8"武器", "狙击枪", {245, 5, 5}}},
        {(const char*)u8"高级步枪消音器", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级冲锋枪消音器", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级步枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级冲锋枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级狙击枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"信号枪", {(const char*)u8"武器", "特殊武器", {254, 35, 215}}},
        {(const char*)u8"高级垂直握把", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级狙击枪托腮板", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"高级狙击枪消音器", {(const char*)u8"配件", "", {255, 255, 5}}},
        {(const char*)u8"狙击枪消音器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪消焰器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪消音器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪消焰器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪消音器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪消焰器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪快速弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪快速弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪快速弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"垂直握把", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪托腮板", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"直角握把", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"战术枪托", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"激光瞄准器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"手枪快速扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"手枪快速弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"手枪扩容弹夹", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"手枪消音器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"狙击枪补偿器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪补偿器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪补偿器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"红点瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"全息瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"2倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"15倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"8倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"6倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"4倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"3倍瞄准镜", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"水平后坐力特化芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"垂直后坐力特化芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"腰射精准度特化芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"快速装填芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"高速预热芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"弹匣扩容芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"放大芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"蓄能芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"滋滋芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"1级背包", {(const char*)u8"装备", "背包", {255, 255, 255}}},
        {(const char*)u8"2级背包", {(const char*)u8"装备", "背包", {255, 255, 255}}},
        {(const char*)u8"3级背包", {(const char*)u8"装备", "背包", {255, 255, 0}}},
        {(const char*)u8"4级背包", {(const char*)u8"装备", "背包", {255, 0, 0}}},
        {(const char*)u8"1级防弹衣", {(const char*)u8"装备", "防弹衣", {255, 255, 255}}},
        {(const char*)u8"2级防弹衣", {(const char*)u8"装备", "防弹衣", {255, 255, 255}}},
        {(const char*)u8"3级防弹衣", {(const char*)u8"装备", "防弹衣", {255, 255, 0}}},
        {(const char*)u8"4级防弹衣", {(const char*)u8"装备", "防弹衣", {255, 0, 0}}},
        {(const char*)u8"1级头盔", {(const char*)u8"装备", "头盔", {255, 255, 255}}},
        {(const char*)u8"2级头盔", {(const char*)u8"装备", "头盔", {255, 255, 255}}},
        {(const char*)u8"3级头盔", {(const char*)u8"装备", "头盔", {255, 255, 0}}},
        {(const char*)u8"4级头盔", {(const char*)u8"装备", "头盔", {255, 0, 0}}},
        {(const char*)u8"全息装置", {(const char*)u8"装备", "", {255, 255, 255}}},
        {(const char*)u8"游泳圈", {(const char*)u8"装备", "", {255, 255, 255}}},
        {(const char*)u8"吉利服", {(const char*)u8"装备", "", {255, 255, 255}}},
        {(const char*)u8"手雷Max", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"手雷", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"雪球", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"云雾弹", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"战术掩体", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"爱心云雾弹", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"治疗弹", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"虫洞手雷", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"啵啵", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"传送大炮", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"火球", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"拉钩钩", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"积木", {(const char*)u8"投掷物", "", {255, 255, 255}}},
        {(const char*)u8"医疗箱", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"急救包", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"绷带", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"止痛药", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"能量饮料", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"传送胶囊", {(const char*)u8"其他", "", {5, 255, 5}}},
        {(const char*)u8"变大大", {(const char*)u8"药品", "", {5, 255, 5}}},
        {(const char*)u8"彩虹能源", {(const char*)u8"其他", "", {5, 255, 5}}},
        {(const char*)u8"筷子", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"牙签", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"棒球棍", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"平底锅", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"马桶搋", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"撑衣杆", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"小叉子", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"魔法棒", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"紫金红葫芦", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"武功秘籍", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"皮皮球", {(const char*)u8"其他", "", {255, 255, 255}}},
        {(const char*)u8"猫猫身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"太阳神身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"咸鱼身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"彩虹王子身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"雪女身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"狼王身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"飞翼身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"球球身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"甜心身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"影武者身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"枭雄身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"武圣身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"军师身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"海王身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"冥王身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"神王身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"魔法师身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"法杖", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"雷符", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"水晶球", {(const char*)u8"近战", "", {255, 255, 255}}},
        {(const char*)u8"爆炸小丑身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"幽灵船长身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"Galil", {(const char*)u8"武器", "突击步枪", {250, 139, 54}}},
        {(const char*)u8"奶瓶", {(const char*)u8"装备", "", {255, 255, 255}}},
        {(const char*)u8"步枪枪口弹道辅助器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"步枪枪口子弹增速器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪枪口子弹增速器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"冲锋枪枪口弹道辅助器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"阻手器", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"唐老板身份卡", {(const char*)u8"身份卡", "", {254, 118, 254}}},
        {(const char*)u8"爆燃弹", {(const char*)u8"子弹", "", {245, 5, 5}}},
        {(const char*)u8"爆燃榴弹炮", {(const char*)u8"武器", "特殊武器", {245, 5, 5}}},
        {(const char*)u8"棍花芯片", {(const char*)u8"配件", "", {255, 255, 255}}},
        {(const char*)u8"3级头盔-霰弹勇士", {(const char*)u8"装备", "头盔", {255, 255, 0}}},
        {(const char*)u8"3级头盔-侦察大师", {(const char*)u8"装备", "头盔", {255, 255, 0}}},
    };
};
